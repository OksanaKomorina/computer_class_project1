<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Teachers Updates</title>
</head>
<body id="body">
<h1>Update Teacher Data</h1>
<form action="" id="TUF" method="get" onsubmit="return checkEmailValidation(event)">
    {% csrf_token %}
    <label>
        Set:
    </label>
    &nbsp;
    <select id="list" name="col">
        <option selected value="ParticipateID">Participant ID</option>
        <option value="SubjectCode">Subject Code</option>
        <option value="Firstname">First Name</option>
        <option value="Lastname">Last Name</option>
        <option value="Email">Email</option>
        <option value="Password">Password</option>
    </select>
    <label>
        To value:
    </label>
    &nbsp;
    <input id="val" name="val" required type="text">
    <br>
    <label>
        Where:
    </label>
    <select name="condition_col">
        <option selected value="">_</option>
        <option value="TeacherID">Teacher ID</option>
        <option value="ParticipateID">Participant ID</option>
        <option value="SubjectCode">Subject Code</option>
        <option value="Firstname">First Name</option>
        <option value="Lastname">Last Name</option>
        <option value="Email">Email</option>
        <option value="Password">Password</option>
    </select>
    <label>
        With value:
    </label>
    &nbsp;
    <input name="condition_val" type="text">
    <br>
    <input type="submit" value="Update">
</form>
<script>
            function checkEmailValidation(event)
            {
                list = document.getElementById("list");
                if (list.value === "Email") {
                    var mailformat = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
                    email = document.getElementById("val").value;
                    if (!email.match(mailformat)) {
                        event.preventDefault();
                        body = document.getElementById("body");
                        newEl = document.createElement("h1");
                        newEl.appendChild(document.createTextNode("Invalid Email, Try Again."));
                        body.appendChild(newEl);
                        return false;
                    }
                    document.getElementById("TUF").action = "/Teachers_UpdatesPy";
                    document.getElementById("TUF").submit();
                    return true;
                } else {
                    document.getElementById("TUF").action = "/Teachers_UpdatesPy";
                    document.getElementById("TUF").submit();
                    return true;
                }
            }

</script>
</body>
</html>